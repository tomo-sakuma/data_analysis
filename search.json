[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "社会調査法",
    "section": "",
    "text": "2023年，立命館大学社会調査法の授業資料です。"
  },
  {
    "objectID": "intro.html",
    "href": "intro.html",
    "title": "3  Introduction",
    "section": "",
    "text": "See Knuth (1984) for additional discussion of literate programming.\n\n1 + 1\n\n[1] 2\n\n\n\n\n\n\nKnuth, Donald E. 1984. “Literate Programming.” Comput. J. 27 (2): 97–111. https://doi.org/10.1093/comjnl/27.2.97."
  },
  {
    "objectID": "summary.html",
    "href": "summary.html",
    "title": "3  Summary",
    "section": "",
    "text": "1 + 1\n\n[1] 2"
  },
  {
    "objectID": "references.html",
    "href": "references.html",
    "title": "References",
    "section": "",
    "text": "Abarbanell, Jeffrey S, and Brian J Bushee. 1997. “Fundamental\nAnalysis, Future Earnings, and Stock Prices.” Journal of\nAccounting Research 35 (1): 124. http://search.ebscohost.com/login.aspx?direct=true&db=buh&AN=9708246164&lang=ja&site=ehost-live.\n\n\nKnuth, Donald E. 1984. “Literate Programming.” Comput.\nJ. 27 (2): 97–111. https://doi.org/10.1093/comjnl/27.2.97."
  },
  {
    "objectID": "2_Rとは.html",
    "href": "2_Rとは.html",
    "title": "1  分析環境の構築",
    "section": "",
    "text": "Rは，統計分析に強みを持つコンピュータ言語です（統計ソフトと呼ぶこともあるけど，厳密な違いはよくわかりません）。\n\n\n\nエクセルでもある程度の分析はできますが，覚えさえすればエクセルよりもはるかに簡単です。また，エクセルでできる分析は限られていますが，Rではそれよりもはるかに高度なことができます。また，エクセルはそもそも表計算ソフトです。データが簡単にいじれてしまう（書き換えられてしまう）状態で分析作業をするのは好ましくありません。\nなんといってもフリーです。個人のコンピューター（職場が許すのであれば職場のコンピューターにも）にダウンロードすれば，卒業後も使えます。対してIBM社のSPSSは非常に高額です。研究者にでもならない限り個人で購入することはないでしょうし，職場で予算を取ることも難しいかもしれません。\n機械学習との絡みでPythonが流行ってきています。ただ，統計分析に関してはRに一日の長があるという印象です。Pythonはなんでも出来るけど，統計分析部分の操作性・拡張性はRの方が良さそう。\nコンピュータ言語のとっかかりはRでも，Rを使えるようになったらPythonもそこまで負担なく覚えられるでしょう。"
  },
  {
    "objectID": "2_Rとは.html#他のソフト方法との比較",
    "href": "2_Rとは.html#他のソフト方法との比較",
    "title": "1  第2回 分析環境の構築",
    "section": "1.2 他のソフト・方法との比較",
    "text": "1.2 他のソフト・方法との比較\nエクセルでもある程度の分析はできますが，覚えさえすればエクセルよりもはるかに簡単です。また，エクセルでできる分析は限られていますが，Rではそれよりもはるかに高度なことができます。また，エクセルはそもそも表計算ソフトです。データが簡単にいじれてしまう（書き換えられてしまう）状態で分析作業をするのは好ましくありません。\nなんといってもフリーです。個人のコンピューター（職場が許すのであれば職場のコンピューターにも）にダウンロードすれば，卒業後も使えます。対してIBM社のSPSSは非常に高額です。研究者にでもならない限り個人で購入することはないでしょうし，職場で予算を取ることも難しいかもしれません。\n機械学習との絡みでPythonが流行ってきています。ただ，統計分析に関してはRに一日の長があるという印象です。Pythonはなんでも出来るけど，統計分析部分の操作性・拡張性はRの方が良さそう。\nコンピュータ言語のとっかかりはRでも，Rを使えるようになったらPythonもそこまで負担なく覚えられるでしょう。"
  },
  {
    "objectID": "2_Rとは.html#rstudio",
    "href": "2_Rとは.html#rstudio",
    "title": "2  分析環境の構築",
    "section": "2.2 Rstudio",
    "text": "2.2 Rstudio\nPosit社の提供する統合開発環境（IDE）。RはそれだけだとWindowsのconsoleとか，Macのterminalみたいな，コマンドだけの画面\n\nこれで使えないわけでもなけれど，もっと使いやすい方が良い。Rをもっと使いやすい状態にしてくれるアプリがRstudioです。\n\nRの画面（左下）\nRのプログラムを書くスペース（左上）\n読み込んだデータや，過去に実行したコマンドが見れるスペース（右上）\nパッケージやファイル，作った図表などがみれるスペース（右下）\n\n\n\nRstudioを使うと，分析結果レポートを文書やプレゼン用スライドに直接書き出すこともできます。\n\nいまこの資料もRstudioで書いています。\n\n文献リストの挿入などの機能も実装できるので，その気になればデータ分析から論文執筆まで全てRstudioでできます。\n\nGoogle colabなど，他の開発環境もありますが，インストールさえしてしまえば，Rstudioの方が便利だと思います。"
  },
  {
    "objectID": "2_Rとは.html#rとrstudioのインストール",
    "href": "2_Rとは.html#rとrstudioのインストール",
    "title": "2  分析環境の構築",
    "section": "2.3 RとRstudioのインストール",
    "text": "2.3 RとRstudioのインストール\n\n2.3.1 Rのインストール\n\nR の公式サイトに行くhttps://cloud.r-project.org\n自分のOSに合ったものを選択\n\nWindowsなら Download R for Windows\n\nBase を選ぶ\n\nMacならDownload R for macOS\n\nSliconならR-X.X.X-arm64.pkg，IntelならR-X.X.X.pkg\n\n\nダウンロードしたものを実行してインストール\n\n\n\n2.3.2 Rstudioのインストール\n\nRStudio の公式サイトに行くhttps://posit.co/products/open-source/rstudio/\n無料版（Open Source Edition）を選択\n自分のOSに合ったものを選んでダウンロード\nダウンロードしたものを実行してインストール\n\n\n\n\n\n\n\nX.X.X という部分はバージョン番号です。"
  },
  {
    "objectID": "2_Rとは.html#rの操作",
    "href": "2_Rとは.html#rの操作",
    "title": "2  分析環境の構築",
    "section": "2.4 Rの操作",
    "text": "2.4 Rの操作\n\n2.4.1 スクリプトファイル\nRなどの統計ソフトを使う利点の一つは，再現性です。例えばエクセルでは，どんな順番にどんな処理をしたのかは記録されません。Rなどのプログラミングソフトを使うと，操作した内容と順番をコードの形で記録しておけます。コードを記録したファイルを「スクリプトファイル」と言います。\nスクリプトファイルは，画面左上にある緑の「＋」アイコンを押して，「R Script」を選択することで新規作成できます。\n\nスクリプトファイルを作成すると（初期状態では）画面の左上に白紙のファイルが出てきます。ここにコマンドを打ち込んでいきます。例えば以下のコマンドを打つと，画面の左下にあるRの画面に実行結果が出ます。\n\n\nCode\n1 + 1\n\n\n[1] 2\n\n\n\n\n\n\n\n\n左下の画面（console）に直接 1+1 と打ち込んでも同じ結果が出ますが，後で記録に残らないので，コードはスクリプト画面に書く，左下は結果の表示だけ，と使い分けた方が良いです。\n\n\n\n\n\n\n2.4.2 課題\nRスクリプトに以下の内容を打ち込んでください。スクリプト右上のRunボタンを押すか，Control + Enter (Macの場合は⌘+Enter)で実行してください。\n\n\nCode\n1+3 #足し算\n\n\n[1] 4\n\n\nCode\n2*4 #掛け算\n\n\n[1] 8\n\n\nCode\n#変数を先に定義して，計算。printで表示\nx = 3\ny = 5\nz = x * y\nprint(z)\n\n\n[1] 15"
  },
  {
    "objectID": "2_Rとは.html#課題",
    "href": "2_Rとは.html#課題",
    "title": "1  第2回 分析環境の構築",
    "section": "1.6 課題",
    "text": "1.6 課題\nRスクリプトに以下の内容を打ち込んでください。スクリプト右上のRunボタンを押すか，Control + Enter (Macの場合は⌘+Enter)で実行してください。\n\n1+3 #足し算\n\n[1] 4\n\n2*4 #掛け算\n\n[1] 8\n\n#変数を先に定義して，計算。printで表示\nx = 3\ny = 5\nz = x * y\nprint(z)\n\n[1] 15"
  },
  {
    "objectID": "2_Rとは.html#rプログラミングの基礎",
    "href": "2_Rとは.html#rプログラミングの基礎",
    "title": "2  分析環境の構築",
    "section": "2.5 Rプログラミングの基礎",
    "text": "2.5 Rプログラミングの基礎\n\n\n\n\n\n\nこのパートは森知晴先生（立命館大学総合心理学部）のサイト (卒業論文のためのR入門) 及び今井耕介先生（Harvard University / 東京大学）の著書 (社会科学のためのデータ分析入門)等を参考にしています。\n\n\n\n\n2.5.1 オブジェクト\nRでは情報を自分で名前をつけたオブジェクトとして保存できます。Rstudioでは，保存されたオブジェクトは右上のEnvironmentと言うところに表示されます。\n\n\nCode\nx <- 1\n\n\n「<-」の左はオブジェクト，右はその中身を表します。なので，「xという名前のオブジェクトに1を入れる」という指示をしています。これを実行すると画面右上にxというオブジェクトが表示されるはずです。xの中身を確認するには，そのオブジェクトの名前（今回の場合x）を打つと良いです。\n\n\nCode\nx\n\n\n[1] 1\n\n\n文字列でもオブジェクトになります。\n\n\nCode\nuniv <- \"Ritsumeikan University\"\nuniv\n\n\n[1] \"Ritsumeikan University\"\n\n\n複数の数値の並び（ベクトル）をオブジェクトとすることもできます。\n\n\nCode\nvec <- c(1, 2, 3, 4, 5)\n\n\n縦×横の行列も作れます。matrixという名前です。ncol=2は列の数, byrow=TRUEは，横に並べるということ。\n\n\nCode\nmat <- matrix(c(435,165,265,135), ncol=2, byrow=TRUE)\nmat\n\n\n     [,1] [,2]\n[1,]  435  165\n[2,]  265  135\n\n\n例えばbyrow=FALSE にすると縦に並ぶ\n\n\nCode\nmat2 <- matrix(c(435,165,265,135), ncol=2, byrow=FALSE)\nmat2\n\n\n     [,1] [,2]\n[1,]  435  265\n[2,]  165  135\n\n\n縦横の名前をつけると\n\n\nCode\nrownames(mat) <- c(\"行1\", \"行2\")\ncolnames(mat)<- c(\"列1\", \"列2\")\nmat\n\n\n    列1 列2\n行1 435 165\n行2 265 135\n\n\n\n\n2.5.2 データフレーム\nオブジェクトの中で重要な形式として，データフレームがあります。これは，縦方向に観測値を、横方向に変数を並べたデータを言います。\n\n\nCode\nage <- c(18, 21, 22, 23, 34) #年齢のベクトル\ngender <- c(\"female\", \"male\", \"male\", \"female\", \"female\")#性別のベクトル\ndframe <- data.frame(age, gender)\ndframe\n\n\n  age gender\n1  18 female\n2  21   male\n3  22   male\n4  23 female\n5  34 female\n\n\nエクセル等のデータを読み込んで分析する場合は，このデータフレーム形式です。\nデータフレームの中の特定の行を指定する場合は，「データフレーム名$列名」\n\n\nCode\ndframe$gender\n\n\n[1] \"female\" \"male\"   \"male\"   \"female\" \"female\"\n\n\n\n\n2.5.3 計算\n簡単な計算は，以下の通り\n\n\nCode\n1+1 \n\n\n[1] 2\n\n\nCode\n2*6 #掛け算は*\n\n\n[1] 12\n\n\nCode\n2^4 #累乗は^\n\n\n[1] 16\n\n\nCode\nsqrt(16) #ルートはsqrt()\n\n\n[1] 4\n\n\n\n\n2.5.4 関数\nRを使う上で最も重要。何がしかの命令をすると，何かの結果が返ってくる。\n\n\nCode\nmean(dframe$age) #平均はmean\n\n\n[1] 23.6\n\n\nCode\nmin(dframe$age) #最小値（最大値）はmin(max)\n\n\n[1] 18\n\n\nCode\nmedian(dframe$age) #中央値はmedian\n\n\n[1] 22\n\n\n上にあるように，Rのコマンドは基本的には，やること(実行する対象)という構造になっている。\n\nmean(dframe$age)は，\n\nやることが平均(mean)\n対象がデータフレームdframeのなかのage (dframe$age)\n\n\n\n\n2.5.5 プログラムの改行\nRではかっこ()やコンマ（,）の後など，コードの切れ目で開業しても動作します。特に()何重にもなる場合，改行したほうが見やすいかもしれません。例えば，上でやった行列の作成コマンド\n\n\nCode\nmat <- matrix(c(435,165,265,135), ncol=2, byrow=TRUE)\n\n\nは，以下のように書いても全く同じように動作します。\n\n\nCode\nmat <- matrix(\n  c(435,165,265,135), \n  ncol=2, \n  byrow=TRUE\n  )\n\n\nこれでも同じですが，あまり改行しすぎるのもかえって読みにくいかもしれません。自分が見やすいように程よく改行してください。\n\n\nCode\nmat <- \n  matrix(\n  c(\n    435,\n    165,\n    265,\n    135\n    ), \n  ncol=2, \n  byrow=TRUE\n  )"
  },
  {
    "objectID": "2_Rとは.html#パッケージ",
    "href": "2_Rとは.html#パッケージ",
    "title": "1  第2回 分析環境の構築",
    "section": "3.1 パッケージ",
    "text": "3.1 パッケージ\nRはそのままでもある程度のことができますが，より高度なことをしたり，同じことをより簡単にしたりするために追加の機能を足すことができます。この追加の機能はパッケージと言います。\n\n\n\n\n\n\nRがスマートフォンのOSのようなもので，パッケージはアプリのようなもの。iOSやAndroidは，そのままでも色々できるけれど，アプリを入れた方が便利。\n\n\n\nRのプログラムを格段にわかりやすくするパッケージであるtidyverseを使う準備をしてみます。パッケージは，最初に使う時にはインストールする必要があります（これは1回だけ。App Storeでアプリをとるような感じ）。\n\ninstall.packages(tidyverse)\n\nパッケージを使う時には，分析ファイルを実行する最初の段階で以下のコマンドを使います（スマートフォンにすでに入っているアプリを開くイメージ）。\n\nlibrary(tidyverse)\n\n後で使うので，以下のパッケージも読み込んでおきます。\n\nlibrary(magrittr)\nlibrary(googledrive)"
  },
  {
    "objectID": "2_Rとは.html#working-directoryの設定",
    "href": "2_Rとは.html#working-directoryの設定",
    "title": "1  第2回 分析環境の構築",
    "section": "3.2 Working Directoryの設定",
    "text": "3.2 Working Directoryの設定\n次に，Rが作業する場所（wd）を設定します。これは次で読み込むデータが保存されていたり，プログラムの中で生成したデータが保存されたりする場所です。\nパソコン上の場所をうまく指定できるのであれば，以下のようにコマンドを打てば良い です(下はMacでデスクトップをwdにした例)\n\nsetwd(\"~/Desktop\")\n\n場所の指定がうまくできない場合，Rstudio右下の箱の Filesタブから指定したいフォルダを選び，⚙マークから「Set As Working Directory」を選ぶことで，コマンドを実行してくれます (その後実行されたコマンドを自分のプログラムファイルにコピーしておくと次回以降便利)"
  },
  {
    "objectID": "2_Rとは.html#データの読み込み",
    "href": "2_Rとは.html#データの読み込み",
    "title": "2  分析環境の構築",
    "section": "2.7 データの読み込み",
    "text": "2.7 データの読み込み\n前回はデータを下記のように手打ちしました。\n\n\nCode\nage <- c(18, 21, 22, 23, 34) #年齢のベクトル\ngender <- c(\"female\", \"male\", \"male\", \"female\", \"female\")#性別のベクトル\ndframe <- data.frame(age, gender)\n\n\nしかし，アンケートデータや，企業の会計データ等をこのように手打ちするのは現実的ではありません。エクセル等で集計されたデータを読み込むのが一般的です。\n\n例えばgoogle formsでアンケートを作成したら，googleスプレットシート（googleのエクセルみたいなもの）に自動的に集計されます。\n\n以下では，エクセルファイルを読み込む方法についてまとめています。\n\n2.7.1 csvファイルの取り込み\nエクセルで列が変数，行が観測となるようにデータを作られていることを想定します。まず，これを表計算ソフト上でcsv形式で保存します。ここでは，さんプルデータとして下のような10人の生徒の4教科の科目のテストの点数を記録したファイルを作成しています。\n\n\n\n\n\n\nエクセル形式で保存されたファイルも読み込めますが，余計な情報が入っていないcsvファイルの方がトラブルが少ない？\n\n\n\n\nwdに入れたファイルを読み込むには，csv形式なら，read_csv(\"ファイル名\") もしくはをread.csv(\"ファイル名\")使います(ファイルがとても大きいとかでなかったらどっちを使ってもあまり変わりありません)。ここでは，tests.csvと言う名前のデータを，testsと言う名前で読み込んでいます。\n\n\n\n\n\nCode\ntests <- read_csv(\"tests.csv\")\n\n\n読み込んだデータを見てみます。今回はいいけど，データが大きい場合など，たくさん表示されたら鬱陶しいなら最初のいくつかだけが表示されるhead(データ名)コマンドが便利です。\n\n\nCode\nhead(tests)\n\n\n# A tibble: 6 × 5\n  出席番号  math japanese history physics\n     <dbl> <dbl>    <dbl>   <dbl>   <dbl>\n1        1    41       35      71      90\n2        2    74       76      30      35\n3        3    65        7      41      75\n4        4    76       24      42      78\n5        5    53        8      47      51\n6        6    29       80      14      19\n\n\n\n\n2.7.2 Google Driveに保存されたcsvファイルの読み込み\nデータをグループで共有するときなどに便利です。\n\ngoogle driveに保存したデータを共有（リンクを知っている人全員）に設定\nリンクurl（https://drive.google.com/file/d/*********/view?usp=sharing）の********の部分がidなので，その部分をメモしておく。\n下記の通り，idを定義して，下記の通りのコードを実行すると，目当てのファイルを取り込める。\n\n\n\nCode\nid = \"1x7426qSraIRdcbgW3a0F8vMF181Q_DHF\"\n\nz = read_csv(sprintf(\"https://docs.google.com/uc?id=%s&export=download\", id))\n\n\n\n\n2.7.3 Dropboxに保存されたcsvファイルの読み込み\ngoogle driveと基本的に同じ\n\nDropbox上のファイルを共有，リンクを取得\nリンクの最後 dl=0をdl=1に変えて，read_csv (もしくは read.csv)コマンドで読み込めます\n\n\n\nCode\nz2 <- read_csv(\"https://www.dropbox.com/s/6x344sfra54mcco/tests.csv?dl=1\")\n\n\nRows: 10 Columns: 5\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\ndbl (5): 出席番号, math, japanese, history, physics\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message."
  },
  {
    "objectID": "2_Rとは.html#パイプ演算子",
    "href": "2_Rとは.html#パイプ演算子",
    "title": "2  分析環境の構築",
    "section": "2.8 パイプ演算子",
    "text": "2.8 パイプ演算子\ntidyverseとmagrittrパッケージのパイプ演算子を使うことで，同じコマンドをより読みやすくできます。これからは断りなくこれらのパッケージの機能を使います。\n\n2.8.1 例1\n読み込んだデータtestの算数(math)の平均点を求めたい。普通にやると [1.5.2 ][デ][ータフレーム]にあるように，データフレーム名$列名で指定するので\n\n\nCode\nmean(tests$math)\n\n\nパイプ演算子%$%を使うと同じコマンドが以下のようになる\n\n\nCode\ntests %$%\n  mean(math)\n\n\nこれだとあまり何がいいのかわかりませんが，複数の変数を指定したいときなど，いちいちデータフレーム名を指定しなくて良いので便利です。\n\n\n2.8.2 例2\n例1だと便利さを実感しにくいですが，例えば以下のコマンドだともう少し便利さがわかるかもしれません。以下は(1)testデータを使って，(2)数学の点数と他の点数の関係を分析(lm)した上で，(3)その結果を表示する(summary)もの。\n\n\nCode\nsummary(lm(math ~ japanese + physics ,data = tests))\n\n\n日本語の順番と，コマンドの構造が反対 (結果を表示する→分析内容→データ)\n全く同じことをパイプ演算子を使うと，(1) testデータで(2)分析をして(3)結果の要約を表示する，という思考の順番で書けます。\n\n\nCode\ntests %$%\n  lm(math ~ japanese + physics) %>% \n  summary\n\n\n命令が複雑になる程効果が実感できます。\nちなみに%$%は，使うデータを指定するのに使う。%>%はコマンドの結果を次のコマンドに渡すのに使う。"
  },
  {
    "objectID": "2_Rとは.html#データの処理",
    "href": "2_Rとは.html#データの処理",
    "title": "2  分析環境の構築",
    "section": "2.9 データの処理",
    "text": "2.9 データの処理\n分析に入る前に必要そうな処理を紹介します。\n\n2.9.1 新しい変数の作成\n現在のデータにはない，4教科の合計点が欲しい。新しい変数はmutate()で作る。ただし，mutateだけだと，変数を作ってどこにも保存してくれないので，保存場所を指定する必要があります。今回は元のデータに付け足す形で作ります。\n\n\nCode\ntests <- tests %>% \n  mutate(sum = math + japanese + history + physics)\n\n\ntests に testsの中のデータを使って作った新しい変数を入れる。1行目が冗長なので，パイプ%<>%を使って書き直すと\n\n\nCode\ntests %<>%\n  mutate(sum = math + japanese + history + physics)\n\n\n以下も同じ\n\n\nCode\ntests %<>%\n  rowwise() %>% \n  mutate(sum = sum(math, japanese, history, physics)) %>% \n  ungroup()"
  },
  {
    "objectID": "2_Rとは.html#分析のための準備",
    "href": "2_Rとは.html#分析のための準備",
    "title": "2  分析環境の構築",
    "section": "2.6 分析のための準備",
    "text": "2.6 分析のための準備\n\n2.6.1 パッケージ\nRはそのままでもある程度のことができますが，より高度なことをしたり，同じことをより簡単にしたりするために追加の機能を足すことができます。この追加の機能はパッケージと言います。\n\n\n\n\n\n\nRがスマートフォンのOSのようなもので，パッケージはアプリのようなもの。iOSやAndroidは，そのままでも色々できるけれど，アプリを入れた方が便利。\n\n\n\nRのプログラムを格段にわかりやすくするパッケージであるtidyverseを使う準備をしてみます。パッケージは，最初に使う時にはインストールする必要があります（これは1回だけ。App Storeでアプリをとるような感じ）。\n\n\nCode\ninstall.packages(tidyverse)\n\n\nパッケージを使う時には，分析ファイルを実行する最初の段階で以下のコマンドを使います（スマートフォンにすでに入っているアプリを開くイメージ）。\n\n\nCode\nlibrary(tidyverse)\n\n\n後で使うので，以下のパッケージも読み込んでおきます。\n\n\nCode\nlibrary(magrittr)\nlibrary(googledrive)\n\n\n\n\n2.6.2 Working Directoryの設定\n次に，Rが作業する場所（wd）を設定します。これは次で読み込むデータが保存されていたり，プログラムの中で生成したデータが保存されたりする場所です。\nパソコン上の場所をうまく指定できるのであれば，以下のようにコマンドを打てば良い です(下はMacでデスクトップをwdにした例)\n\n\nCode\nsetwd(\"~/Desktop\")\n\n\n場所の指定がうまくできない場合，Rstudio右下の箱の Filesタブから指定したいフォルダを選び，⚙マークから「Set As Working Directory」を選ぶことで，コマンドを実行してくれます (その後実行されたコマンドを自分のプログラムファイルにコピーしておくと次回以降便利)"
  },
  {
    "objectID": "3_data.html",
    "href": "3_data.html",
    "title": "2  データの種類とまとめ方",
    "section": "",
    "text": "データはその性質に応じて分類が可能です。\n\n\n\n\n\n\n\n\n\n種類\n尺度\n説明\n例\n\n\n\n\n質的変数\n名義尺度\n性質を分類するために使われる（男 = 0, 女 = 1，のように性質に数値を割り当てる）。数値に意味はない。\n性別，学籍番号\n\n\n質的変数\n順序尺度\n並び順に意味がある尺度。大小関係はあるが，計算はできない。\n人気ランキング，成績（秀優良可不可）\n\n\n量的変数\n間隔尺度\n大小関係に加えて間隔にも意味がある。計算可能だが，比には意味がない（西暦1000年の2倍は西暦2000年，という計算に意味はある？）\n西暦・温度\n\n\n量的変数\n比例尺度\n間隔に加えて比率にも意味がある。\n身長・体重・価格・売上高・利益\n\n\n\n\nデータがそれぞれどの種類の尺度なのかによってまとめ方や分析での使い方が変わります。\n\n例えば，名義尺度である学籍番号の平均値を計算することは意味がありません。"
  },
  {
    "objectID": "4_hyohon.html",
    "href": "4_hyohon.html",
    "title": "3  母集団と標本",
    "section": "",
    "text": "社会調査や学術研究では，知りたい対象と手元のデータが必ずしも一致していません。そもそも，知りたい対象全体のデータを取るような調査はほとんど行われません。\n\n唯一の例外は国勢調査\n\n例えば，世論調査は日本在住者の政治に対する意見などを知るためにデータを集めますが，全国民を対象としているわけではありません。\n\n全国民の意見を聞いていたら時間もお金もかかります。そもそも全員と連絡をつけることは非現実的です。\nそこで，例えば1,000人に聞いた意見から日本全体の世論を推測します。\n\n例えば，新しい薬の効果を検証したい場合，知りたい対象は，過去・現在・未来に渡る特定の病気の患者への効果です。調査時点で過去の患者や未来の患者に対する効果を知ることはできません。\n\nそこで，治験対象者のデータから，人類一般に対する効果を推測します。\n\nここで，知りたい対象を母集団，検証に使う母集団の一部を標本と言います。\n確率論を基礎として，十分な数の適切に選ばれた標本を適切な方法で分析すると，非常に高い精度で母集団の傾向を推測できることが知られています。\nただし，「適切に標本を選ぶこと」「適切に分析すること」は現実にそう簡単ではなく，それゆえこの授業で扱う多変量解析を含め，多くの統計理論が研究され続けています。\nまずは，理想的な状況における推測について扱います。"
  },
  {
    "objectID": "4_hyohon.html#平均と分散",
    "href": "4_hyohon.html#平均と分散",
    "title": "3  母集団と標本",
    "section": "3.1 平均と分散",
    "text": "3.1 平均と分散\n\n平均はデータの特徴を表す代表的な値の一つです。変数 \\(X\\) の平均 \\(\\bar X\\)は，\n\n\\[\n\\bar X = \\frac{1}{n} (X_1+X_2+X_3+...X_n) = \\frac{1}{n} \\Sigma X_i\n\\]\n\n分散はデータのばらつきを表します。データは平均より高かったり低かったりするので，各データの平均からのずれ \\((X_i - \\bar X)\\)を2乗して\n\n\\[\n\\begin{split}\ns_X^2 &= \\frac{1}{n-1}\\{(X_1 - \\bar X)^2+(X_2 - \\bar X)^2+(X_3 - \\bar X)^2+...(X_n - \\bar X)^2 \\} \\\\ &= \\frac{1}{n-1}\\Sigma (X_i - \\bar X)^2\n\\end{split}\n\\]"
  },
  {
    "objectID": "4_hyohon.html#標本平均の性質",
    "href": "4_hyohon.html#標本平均の性質",
    "title": "4  母集団と標本",
    "section": "4.3 標本平均の性質",
    "text": "4.3 標本平均の性質\n\nある母集団から得た標本があります。母集団全体の平均（母平均）を \\(\\mu\\) とします。この \\(\\mu\\) は未知です。\nここで，標本観測と母平均との関係を以下のように想定します。\n\n\\[\nX_i = \\mu+u_i, u_i  \\sim N(0,\\sigma ^2)\n\\]\n　ただし\\(u_1,u_2,u_3...u_n\\)は互いに独立(前の数字に後からでてくる数字が影響を受けない)\n\nこのとき，以下の性質が知られています。\n\n\n\\[E(\\bar X) = \\mu, Var(\\bar X) = \\frac{1}{n}\\sigma^2\\]\n\n\n標本平均の期待値は，母平均となる\nサンプルサイズ(n)が大きくなるほど精度が高まる（ばらつきが小さく）\n\n\n\n要するに…うまくサンプルをとることができれば，標本平均を使って母平均を推測できるということです。\n逆に，うまくサンプルを取らなかったら当然ズレます\n\n例：東京大学の学生の1,000人のTOEICの点数の平均を使って，日本国民の英語力を推定する。"
  },
  {
    "objectID": "3_data.html#データの種類",
    "href": "3_data.html#データの種類",
    "title": "3  データの種類とまとめ方",
    "section": "3.1 データの種類",
    "text": "3.1 データの種類\nデータはその性質に応じて分類が可能です。\n\n\n\n\n\n\n\n\n\n種類\n尺度\n説明\n例\n\n\n\n\n質的変数\n名義尺度\n性質を分類するために使われる（男 = 0, 女 = 1，のように性質に数値を割り当てる）。数値に意味はない。\n性別，学籍番号\n\n\n質的変数\n順序尺度\n並び順に意味がある尺度。大小関係はあるが，計算はできない。\n人気ランキング，成績（秀優良可不可）\n\n\n量的変数\n間隔尺度\n大小関係に加えて間隔にも意味がある。計算可能だが，比には意味がない（西暦1000年の2倍は西暦2000年，という計算に意味はある？）\n西暦・温度\n\n\n量的変数\n比例尺度\n間隔に加えて比率にも意味がある。\n身長・体重・価格・売上高・利益\n\n\n\n\nデータがそれぞれどの種類の尺度なのかによってまとめ方や分析での使い方が変わります。\n\n例えば，名義尺度である学籍番号の平均値を計算することは意味がありません。\n\n\n\n3.1.1 課題\n以下のデータの各列はそれぞれどの尺度ですか。ただし\n\nid: 学籍番号\nclass: クラス\ngender: 性別\ntest: テストの点\nhometown: 出身地\n\n\n\nCode\ndata3 <- read_csv(\"data3.csv\")\ndata3\n\n\n# A tibble: 30 × 5\n      id class gender  test hometown\n   <dbl> <dbl> <chr>  <dbl> <chr>   \n 1     1     1 男       100 京都    \n 2     2     1 女        20 京都    \n 3     3     1 女        60 大阪    \n 4     4     1 女        80 兵庫    \n 5     5     1 男        40 兵庫    \n 6     6     1 女        90 大阪    \n 7     7     1 男        30 大阪    \n 8     8     1 男        60 奈良    \n 9     9     1 男        90 島根    \n10    10     1 女        30 兵庫    \n# … with 20 more rows\n\n\n\n\n3.1.2 Rが理解しているデータの種類\nデータの種類にはいくつかあるということでしたが，rにもそれに（完全にではないけれど）対応したデータの種類があります。\n\nnumeric (num数値型)：数値データ\ncharacter (chr文字列型)：文字データ\nfactor (fctr因子型)：カテゴリデータ\nlogical (lgl論理値型)：trueかfalseの2択データ\n\nエクセルやcsvファイルを読み込んだとき，Rは自動でこれらのうちのどれかとして読み取ります。どの種類として読み込まれたかは，画面右上のEnvironmentタブにあるDataウインドウから確認可能です。また，単にデータ名を実行するもしくはstr(データ名)でも確認可能です\n\n\nCode\nstr(data3)\n\n\nspc_tbl_ [30 × 5] (S3: spec_tbl_df/tbl_df/tbl/data.frame)\n $ id      : num [1:30] 1 2 3 4 5 6 7 8 9 10 ...\n $ class   : num [1:30] 1 1 1 1 1 1 1 1 1 1 ...\n $ gender  : chr [1:30] \"男\" \"女\" \"女\" \"女\" ...\n $ test    : num [1:30] 100 20 60 80 40 90 30 60 90 30 ...\n $ hometown: chr [1:30] \"京都\" \"京都\" \"大阪\" \"兵庫\" ...\n - attr(*, \"spec\")=\n  .. cols(\n  ..   id = col_double(),\n  ..   class = col_double(),\n  ..   gender = col_character(),\n  ..   test = col_double(),\n  ..   hometown = col_character()\n  .. )\n - attr(*, \"problems\")=<externalptr> \n\n\n初期状態では，genderとhometownがchr（文字列），それ以外がnum（数値）になっています。しかし，例えばidやclassは名義尺度であるべきです。\n後で使うclassをカテゴリデータに変えてみます。使うコマンドはas.factor(変えたい変数)です。\n\n\nCode\ndata3 %<>%\n  mutate(class = as.factor(class))\n\n\n1行目は，変えたいデータです。以下のように書いても同じです\ndata3 <- data3\n2行目のmutate(新しい変数名 = 指示) は，新しい変数（列）を足すコマンドです。現在ある列名と同じものを指定すると上書きされます。今回は，classという数値変数をカテゴリ変数に変えたものを，元と同じclassという名前で作成（上書き）しています。\n文字列については，分析の際には自動的にカテゴリ変数として扱われるので，特段の変更処理は必要ありません。"
  },
  {
    "objectID": "3_data.html#データを要約する",
    "href": "3_data.html#データを要約する",
    "title": "3  データの種類とまとめ方",
    "section": "3.2 データを要約する",
    "text": "3.2 データを要約する\n膨大なデータの特徴を捉えるためには，代表的な値を使うといい。ここからは基本的に比例尺度を想定しています。\n\\[X_i = X_1, X_2,...X_n\\] とします。\n\n3.2.1 平均値\nデータに含まれる値をすべて足してデータの数で割った値。\\(\\bar X\\) とすると。\n\\[ \\bar X = (X_1 + X_2 + ... X_n )/n = \\frac{1}{n} \\Sigma_{i=1}^{n} X_i \\]\n\n\nCode\ndata3_1 <- c(100,90,80,70,60,40,10)\nxbar = mean(data3_1)\nxbar\n\n\n[1] 64.28571\n\n\nCode\n#これは以下でも同じ\nxbar2 = sum(data3_1) / length(data3_1)\nxbar2\n\n\n[1] 64.28571\n\n\n\n\n3.2.2 中央値\nデータを順番に並べてちょうど真ん中の値。\n\n\nCode\nmedian(data3_1)\n\n\n[1] 70\n\n\n平均値と中央値はそれぞれデータの代表的な値ではありますが，必ずしも一致しません。例えば以下のようなデータがあったとします。\n\n\nCode\nx <- c(10, 10, 10, 10, 10, 10, 10, 20, 20, 30, 90, 100)\n\n\n平均と分散はそれぞれ違います。\n\n\nCode\nmean(x)\n\n\n[1] 27.5\n\n\nCode\nmedian(x)\n\n\n[1] 10\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n3.2.3 最大値・最小値\nそのまま，最大の値と最小の値\n\n\nCode\nmax(data3_1)\n\n\n[1] 100\n\n\nCode\nmin(data3_1)\n\n\n[1] 10\n\n\n---\n\n\n3.2.4 分散\nデータのばらつき度合いを表します。例えば，A, Bという２つのクラスがあるとします。ある教科のテストの平均，中央値が両クラスとも60だったとしても，\n\n20,60,100,30,90\n60,60,60,60,60\n\nというように特典の分布が全く異なる場合があり得ます。この違いは平均や中央値だけでは読み取れません。この違いを表す，平均からのばらつき度合いを把握する指標が分散です。\n平均からの距離 （\\(\\bar X - X_i\\)）は，プラスにもマイナスにもなり，足し合わせたら0になってしまうので，これを2乗した\\((\\bar X - X_i)^2\\)をデータの数だけ足し合わせて，データの数で割ったものを分散とします。\n\\[\n\\text{分散} = \\frac{1}{n} \\Sigma_{i = 1}^n(\\bar X - X_i)^2\n\\]\n\n\nCode\ndata3_2a <- c(20,60,100,30,90)\ndata3_2b <- c(60,60,60,60,60)\n\nmeana <- mean(data3_2a)\nsa <- meana -　data3_2a\nsua <- sum(sa^2) \n分散a <- sua / length(data3_2a)\n\n分散b = sum((mean(data3_2b) - data3_2b)^2)/length(data3_2b)\n\n分散a\n\n\n[1] 1000\n\n\nCode\n分散b\n\n\n[1] 0\n\n\nAの分散は1000，Bの分散は0。\nでも，この数値は何を意味しているのかがわからないです。なぜなら，元の点数（100点満点）を2乗しているからです。これをルートを取って元に戻すと，平均値とかと同じ単位になります。分散のルートを取ったものを標準偏差といいます。\n\\[\n\\text{標準偏差} = \\sqrt{\\text{分散}}\n\\]\n\n\nCode\n標準偏差A <- sqrt(分散a)\n標準偏差A\n\n\n[1] 31.62278"
  },
  {
    "objectID": "3_data.html#データの可視化",
    "href": "3_data.html#データの可視化",
    "title": "3  データの種類とまとめ方",
    "section": "3.3 データの可視化",
    "text": "3.3 データの可視化\n名義尺度など，計算が不可能なものを要約し，可視化する方法として，度数分布表とヒストグラムがあります。\n\n3.3.1 度数分布表\n名義尺度や順序尺度（もしくは範囲を区切った量的変数）ごとに当てはまるサンプルサイズを集計した表です。\n\n\nCode\ntable(data3$hometown) \n\n\n\n  京都   兵庫 北海道   大阪   奈良   島根   滋賀 \n     7      6      1     10      3      1      2 \n\n\nCode\ndata3 %>% \n  select(.,hometown) %>% \n  tbl_summary(.,\n              label = list(hometown ~ \"\"),\n              sort = list(everything() ~ \"frequency\")\n              ) %>% \n  modify_header(label = \"\")\n\n\n\n\n\n\n  \n  \n    \n      \n      N = 301\n    \n  \n  \n    \n\n        大阪\n10 (33%)\n        京都\n7 (23%)\n        兵庫\n6 (20%)\n        奈良\n3 (10%)\n        滋賀\n2 (6.7%)\n        北海道\n1 (3.3%)\n        島根\n1 (3.3%)\n  \n  \n  \n    \n      1 n (%)\n    \n  \n\n\n\n\n\n\n3.3.2 ヒストグラム\n特定のカテゴリごとの度数がわかるグラフです。例えばテストの点数なら，特定の範囲にどれぐらいの人がいるかがわかります。\n\n\nCode\ndata3 %$% \n  hist(test,\n       breaks = seq(5,105,10),　#10点ごとの幅に\n       xaxt = \"n\"　#自動生成ラベルを非表示に\n       ) \naxis(1, at = 10*(0:100))　#ラベルの指定（０から100まで10刻みに）\n\n\n\n\n\nggplot2というパッケージ(tidyverseに同梱)を使うと以下のように作成できます。この程度の単純な表だとggplotの方がややこしいですが，いろいろカスタマイズするにはこちらの方が良いらしいです。\n\n\nCode\ndata3 %$%\n  ggplot(., aes(test)) + #x軸の基準を指定\n  geom_histogram(breaks = seq(5,105,10)) + #ヒストグラムを作成（10点刻み）\n  scale_x_continuous(breaks=seq(0,100,10))  #ラベルを作成(10点刻み)\n\n\n\n\n\n例えば，グループごとに色分けする\n\n\nCode\ndata3 %>%\n  ggplot(., aes(test, fill = class)) + #fillで色分けしたいグループを指定\n  geom_histogram(breaks = seq(5,105,10)) + \n  scale_x_continuous(breaks=seq(0,100,10))\n\n\n\n\n\nクラスごとに分けて作成\n\n\nCode\ndata3 %$%\n  ggplot(., aes(test)) + \n  geom_histogram(breaks = seq(5,105,10)) + \n  scale_x_continuous(breaks=seq(0,100,10)) + \n  facet_grid(~class) #classごとに分けて表示\n\n\n\n\n\nこれだと，平均がどれも60点の3クラスだけど，特典のばらつき度合いが大きく違う，ということがわかりやすいです。\n\n\n3.3.3 箱ひげ図\n複数のグループごとの中央値やばらつき度合いを視覚的に表現できます。ここでは，クラスごとのテストの点数の箱ひげ図を書きます。\n\n\nCode\ndata3 %$%\n  boxplot(test~class)\n\n\n\n\n\n\n最も外の線は最大値と最小値，箱の上下はそれぞれ75％点と25％点，つまり上下4分の1の点，真ん中の太線は中央値です。\nクラス2は全員が60点だったので，箱がなく中央値の線だけが記載されています（箱が潰れて線になっているイメージ）\n\n\n\nCode\npar(family= \"HiraKakuProN-W3\")\ndata3 %$%\n  boxplot(test~gender)"
  },
  {
    "objectID": "2_Rとは.html#rについて",
    "href": "2_Rとは.html#rについて",
    "title": "2  分析環境の構築",
    "section": "2.1 Rについて",
    "text": "2.1 Rについて\n\n2.1.1 Rとは\nRは，統計分析に強みを持つコンピュータ言語です（統計ソフトと呼ぶこともあるけど，厳密な違いはよくわかりません）。\n\n\n2.1.2 他のソフト・方法との比較\nエクセルでもある程度の分析はできますが，覚えさえすればエクセルよりもはるかに簡単です。また，エクセルでできる分析は限られていますが，Rではそれよりもはるかに高度なことができます。また，エクセルはそもそも表計算ソフトです。データが簡単にいじれてしまう（書き換えられてしまう）状態で分析作業をするのは好ましくありません。\nなんといってもフリーです。個人のコンピューター（職場が許すのであれば職場のコンピューターにも）にダウンロードすれば，卒業後も使えます。対してIBM社のSPSSは非常に高額です。研究者にでもならない限り個人で購入することはないでしょうし，職場で予算を取ることも難しいかもしれません。\n機械学習との絡みでPythonが流行ってきています。ただ，統計分析に関してはRに一日の長があるという印象です。Pythonはなんでも出来るけど，統計分析部分の操作性・拡張性はRの方が良さそう。\nコンピュータ言語のとっかかりはRでも，Rを使えるようになったらPythonもそこまで負担なく覚えられるでしょう。"
  },
  {
    "objectID": "index.html#担当者",
    "href": "index.html#担当者",
    "title": "社会調査法",
    "section": "担当者",
    "text": "担当者\n佐久間智広（さくまともひろ）\n神戸大学大学院経営学研究科・准教授"
  },
  {
    "objectID": "4_hyohon.html#はじめに",
    "href": "4_hyohon.html#はじめに",
    "title": "4  母集団と標本",
    "section": "4.1 はじめに",
    "text": "4.1 はじめに\n\n社会調査や学術研究では，知りたい対象と手元のデータが必ずしも一致していません。そもそも，知りたい対象全体のデータを取るような調査はほとんど行われません。\n\n唯一の例外は国勢調査\n\n例えば，世論調査は日本在住者の政治に対する意見などを知るためにデータを集めますが，全国民を対象としているわけではありません。\n\n全国民の意見を聞いていたら時間もお金もかかります。そもそも全員と連絡をつけることは非現実的です。\nそこで，例えば1,000人に聞いた意見から日本全体の世論を推測します。\n\n例えば，新しい薬の効果を検証したい場合，知りたい対象は，過去・現在・未来に渡る特定の病気の患者への効果です。調査時点で過去の患者や未来の患者に対する効果を知ることはできません。\n\nそこで，治験対象者のデータから，人類一般に対する効果を推測します。\n\nここで，知りたい対象を母集団，検証に使う母集団の一部を標本と言います。\n確率論を基礎として，十分な数の適切に選ばれた標本を適切な方法で分析すると，非常に高い精度で母集団の傾向を推測できることが知られています。\nただし，「適切に標本を選ぶこと」「適切に分析すること」は現実にそう簡単ではなく，それゆえこの授業で扱う多変量解析を含め，多くの統計理論が研究され続けています。\n\nまずは，理想的な状況における推測について扱います。"
  },
  {
    "objectID": "4_hyohon.html#平均と分散復習",
    "href": "4_hyohon.html#平均と分散復習",
    "title": "3  母集団と標本",
    "section": "3.2 平均と分散（復習）",
    "text": "3.2 平均と分散（復習）\n\n平均はデータの特徴を表す代表的な値の一つでした。変数 \\(X\\) の平均 \\(\\bar X\\)は，\n\n\\[ \\bar X = (X_1 + X_2 + ... X_n )/n = \\frac{1}{n} \\Sigma_{i=1}^{n} X_i\n\\]\n\n分散はデータのばらつきを表します。データは平均より高かったり低かったりするので，各データの平均からのずれ \\((X_i - \\bar X)\\)を2乗して\n\n\\[\n\\begin{split}\ns_X^2 &= \\frac{1}{n-1}\\{(X_1 - \\bar X)^2+(X_2 - \\bar X)^2+(X_3 - \\bar X)^2+...(X_n - \\bar X)^2 \\} \\\\ &= \\frac{1}{n-1}\\Sigma (X_i - \\bar X)^2\n\\end{split}\n\\]\n\n\n\n\n\n\n前回と違って，\\(n-1\\)で割っています。標本を使って母集団の分散を推定する際には，このようにする方が良い（より正確になる）ためです。"
  },
  {
    "objectID": "4_hyohon.html#平均と分散復習α",
    "href": "4_hyohon.html#平均と分散復習α",
    "title": "4  母集団と標本",
    "section": "4.2 平均と分散（復習+α）",
    "text": "4.2 平均と分散（復習+α）\n\n平均はデータの特徴を表す代表的な値の一つでした。変数 \\(X\\) の平均 \\(\\bar X\\)は，\n\n\\[ \\bar X = (X_1 + X_2 + ... X_n )/n = \\frac{1}{n} \\Sigma_{i=1}^{n} X_i\n\\]\n\n分散はデータのばらつきを表します。データは平均より高かったり低かったりするので，各データの平均からのずれ \\((X_i - \\bar X)\\)を2乗して\n\n\\[\n\\begin{split}\ns_X^2 &= \\frac{1}{n-1}\\{(X_1 - \\bar X)^2+(X_2 - \\bar X)^2+(X_3 - \\bar X)^2+...(X_n - \\bar X)^2 \\} \\\\ &= \\frac{1}{n-1}\\Sigma (X_i - \\bar X)^2\n\\end{split}\n\\]\n\n\n\n\n\n\n前回と違って，\\(n-1\\)で割っています。前回のものを標本分散，今回のものを不偏分散と言います。標本を使って母集団の分散を推定する際には，不偏分散の方が良い（より正確になる）ためです。"
  },
  {
    "objectID": "4_correlation.html",
    "href": "4_correlation.html",
    "title": "4  クロス集計・相関",
    "section": "",
    "text": "前回は，1つの変数の様子を表す代表値として平均や中央値，ばらつき（分散・標準偏差）等を扱いました。\n今回は，二つの変数の間の関係に関わる内容を扱います。具体的には，二つの変数の状況によって場合分けした表であるクロス集計表や，二つの変数を図示した散布図，二つの変数間の関係の強さを表す相関係数などを学習します。"
  },
  {
    "objectID": "6_hyohon.html#はじめに",
    "href": "6_hyohon.html#はじめに",
    "title": "5  母集団と標本",
    "section": "5.1 はじめに",
    "text": "5.1 はじめに\n\n社会調査や学術研究では，知りたい対象と手元のデータが必ずしも一致していません。そもそも，知りたい対象全体のデータを取るような調査はほとんど行われません。\n\n唯一の例外は国勢調査\n\n例えば，世論調査は日本在住者の政治に対する意見などを知るためにデータを集めますが，全国民を対象としているわけではありません。\n\n全国民の意見を聞いていたら時間もお金もかかります。そもそも全員と連絡をつけることは非現実的です。\nそこで，例えば1,000人に聞いた意見から日本全体の世論を推測します。\n\n例えば，新しい薬の効果を検証したい場合，知りたい対象は，過去・現在・未来に渡る特定の病気の患者への効果です。調査時点で過去の患者や未来の患者に対する効果を知ることはできません。\n\nそこで，治験対象者のデータから，人類一般に対する効果を推測します。\n\nここで，知りたい対象を母集団，検証に使う母集団の一部を標本と言います。\n確率論を基礎として，十分な数の適切に選ばれた標本を適切な方法で分析すると，非常に高い精度で母集団の傾向を推測できることが知られています。\nただし，「適切に標本を選ぶこと」「適切に分析すること」は現実にそう簡単ではなく，それゆえこの授業で扱う多変量解析を含め，多くの統計理論が研究され続けています。\n\nまずは，理想的な状況における推測について扱います。"
  },
  {
    "objectID": "6_hyohon.html#平均と分散復習α",
    "href": "6_hyohon.html#平均と分散復習α",
    "title": "5  母集団と標本",
    "section": "5.2 平均と分散（復習+α）",
    "text": "5.2 平均と分散（復習+α）\n\n平均はデータの特徴を表す代表的な値の一つでした。変数 \\(X\\) の平均 \\(\\bar X\\)は，\n\n\\[ \\bar X = (X_1 + X_2 + ... X_n )/n = \\frac{1}{n} \\Sigma_{i=1}^{n} X_i\n\\]\n\n分散はデータのばらつきを表します。データは平均より高かったり低かったりするので，各データの平均からのずれ \\((X_i - \\bar X)\\)を2乗して\n\n\\[\n\\begin{split}\ns_X^2 &= \\frac{1}{n-1}\\{(X_1 - \\bar X)^2+(X_2 - \\bar X)^2+(X_3 - \\bar X)^2+...(X_n - \\bar X)^2 \\} \\\\ &= \\frac{1}{n-1}\\Sigma (X_i - \\bar X)^2\n\\end{split}\n\\]\n\n\n\n\n\n\n前回と違って，\\(n-1\\)で割っています。前回のものを標本分散，今回のものを不偏分散と言います。標本を使って母集団の分散を推定する際には，不偏分散の方が良い（より正確になる）ためです。"
  },
  {
    "objectID": "6_hyohon.html#標本平均の性質",
    "href": "6_hyohon.html#標本平均の性質",
    "title": "5  母集団と標本",
    "section": "5.3 標本平均の性質",
    "text": "5.3 標本平均の性質\n\nある母集団から得た標本があります。母集団全体の平均（母平均）を \\(\\mu\\) とします。この \\(\\mu\\) は未知です。\nここで，標本観測と母平均との関係を以下のように想定します。\n\n\\[\nX_i = \\mu+u_i, u_i  \\sim N(0,\\sigma ^2)\n\\]\n　ただし\\(u_1,u_2,u_3...u_n\\)は互いに独立(前の数字に後からでてくる数字が影響を受けない)\n\nこのとき，以下の性質が知られています。\n\n\n\\[E(\\bar X) = \\mu, Var(\\bar X) = \\frac{1}{n}\\sigma^2\\]\n\n\n標本平均の期待値は，母平均となる\nサンプルサイズ(n)が大きくなるほど精度が高まる（ばらつきが小さく）\n\n\n\n要するに…うまくサンプルをとることができれば，標本平均を使って母平均を推測できるということです。\n逆に，うまくサンプルを取らなかったら当然ズレます\n\n例：東京大学の学生の1,000人のTOEICの点数の平均を使って，日本国民の英語力を推定する。"
  },
  {
    "objectID": "1_intro.html",
    "href": "1_intro.html",
    "title": "1  イントロダクション",
    "section": "",
    "text": "This is a book created from markdown and executable code.\nSee Knuth (1984) for additional discussion of literate programming.\n\n\nCode\n1 + 1\n\n\n[1] 2\n\n\n\n\n\n\nKnuth, Donald E. 1984. “Literate Programming.” Comput. J. 27 (2): 97–111. https://doi.org/10.1093/comjnl/27.2.97."
  },
  {
    "objectID": "1_intro.html#自己紹介",
    "href": "1_intro.html#自己紹介",
    "title": "1  イントロダクション",
    "section": "1.1 自己紹介",
    "text": "1.1 自己紹介\n\n1.1.1 略歴\n\n学歴\n\n学士（経営学），神戸大学2011年\n修士（経営学），神戸大学2013年\n博士（経営学），神戸大学2016年\n\n\n\n職歴\n\n松山大学経営学部講師→准教授 (2015-2022)\n\nWU Vienna, Research Visitor (2019)\nGeorgetown University Visiting Scholar (2019-2020)\n\n神戸大学大学院経営学研究科准教授 (2022-)\n\n\n\n\n\n1.1.2 専門\n\n管理会計，特に業績評価システム\n\n従業員を評価し，報酬を与えることでやる気になってもらう\n\nどんな目標を設定すれば良いか？\n目標は途中で変えるべきか？\n上司の主観的評価の落とし穴は？\n創造的（クリエイティブ）なタスクはどう評価する？\n\n\n企業のデータや実験により得たデータ，公表財務データなどを統計的に分析することで，これらの問題を研究しています。"
  }
]